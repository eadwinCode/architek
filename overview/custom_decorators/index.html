<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Ellar - Python ASGI web framework for building fast, efficient and scalable RESTAPIs and server-side application."><link href=https://github.com/python-ellar/ellar/overview/custom_decorators/ rel=canonical><link rel=icon href=../../img/Icon.svg><meta name=generator content="mkdocs-1.4.2, mkdocs-material-8.5.10"><title>Custom Decorators -</title><link rel=stylesheet href=../../assets/stylesheets/main.975780f9.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.2505c338.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Source Sans Pro";--md-code-font:"Fira Code"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=pink data-md-color-accent=pink> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#custom-decorators class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title class="md-header__button md-logo" aria-label data-md-component=logo> <img src=../../img/EllarLogoB.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Custom Decorators </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=pink data-md-color-accent=pink aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=pink data-md-color-accent=pink aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/python-ellar/ellar title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> eadwinCode/ellar </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title class="md-nav__button md-logo" aria-label data-md-component=logo> <img src=../../img/EllarLogoB.png alt=logo> </a> </label> <div class=md-nav__source> <a href=https://github.com/python-ellar/ellar title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> eadwinCode/ellar </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1> <div class="md-nav__link md-nav__link--index "> <a href=../..>Get Started</a> <label for=__nav_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Get Started" data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Get Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../quick-project/ class=md-nav__link> Quick Setup </a> </li> <li class=md-nav__item> <a href=../../contribution/ class=md-nav__link> Contribution </a> </li> <li class=md-nav__item> <a href=../../release-notes/ class=md-nav__link> Release Notes </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2> Overview <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Overview data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Overview </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../step-one/ class=md-nav__link> Step One </a> </li> <li class=md-nav__item> <a href=../controllers/ class=md-nav__link> Controllers </a> </li> <li class=md-nav__item> <a href=../providers/ class=md-nav__link> Providers </a> </li> <li class=md-nav__item> <a href=../modules/ class=md-nav__link> Modules </a> </li> <li class=md-nav__item> <a href=../middleware/ class=md-nav__link> Middlewares </a> </li> <li class=md-nav__item> <a href=../exception_handling/ class=md-nav__link> Exception Handling </a> </li> <li class=md-nav__item> <a href=../guards/ class=md-nav__link> Guards </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Custom Decorators <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Custom Decorators </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#http-method-decorator class=md-nav__link> HTTP Method Decorator </a> </li> <li class=md-nav__item> <a href=#route-function-parameters class=md-nav__link> Route Function Parameters </a> </li> <li class=md-nav__item> <a href=#non-route-function-parameters class=md-nav__link> Non Route Function Parameters </a> <nav class=md-nav aria-label="Non Route Function Parameters"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#injecttype class=md-nav__link> Inject[Type] </a> </li> <li class=md-nav__item> <a href=#injecting-executioncontext class=md-nav__link> Injecting ExecutionContext </a> </li> <li class=md-nav__item> <a href=#injecting-request-object class=md-nav__link> Injecting Request Object </a> </li> <li class=md-nav__item> <a href=#injecting-response-object class=md-nav__link> Injecting Response Object </a> </li> <li class=md-nav__item> <a href=#injecting-websocket-object class=md-nav__link> Injecting Websocket Object </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#custom-parameter-decorators class=md-nav__link> Custom Parameter Decorators </a> </li> <li class=md-nav__item> <a href=#route-function-decorators class=md-nav__link> Route Function Decorators </a> <nav class=md-nav aria-label="Route Function Decorators"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#render class=md-nav__link> RENDER </a> </li> <li class=md-nav__item> <a href=#file class=md-nav__link> FILE </a> <nav class=md-nav aria-label=FILE> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fileresponsemodel-as-filestreamingfalse class=md-nav__link> FileResponseModel as file(streaming=False) </a> </li> <li class=md-nav__item> <a href=#streamingresponsemodel-as-filestreamingtrue class=md-nav__link> StreamingResponseModel as file(streaming=True) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openapi-info class=md-nav__link> OPENAPI-INFO </a> </li> <li class=md-nav__item> <a href=#serializer-filter class=md-nav__link> SERIALIZER FILTER </a> </li> <li class=md-nav__item> <a href=#version class=md-nav__link> VERSION </a> </li> <li class=md-nav__item> <a href=#useguards class=md-nav__link> UseGuards </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#command-decorators class=md-nav__link> Command Decorators </a> </li> <li class=md-nav__item> <a href=#module-function-decorators class=md-nav__link> Module Function Decorators </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../module-router/ class=md-nav__link> Module Router </a> </li> <li class=md-nav__item> <a href=../interceptors/ class=md-nav__link> Interceptors </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Essentials <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Essentials data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Essentials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../basics/execution-context/ class=md-nav__link> Execution Context </a> </li> <li class=md-nav__item> <a href=../../basics/dynamic-modules/ class=md-nav__link> Dynamic Modules </a> </li> <li class=md-nav__item> <a href=../../basics/injector-scopes/ class=md-nav__link> Injector Scopes </a> </li> <li class=md-nav__item> <a href=../../basics/lifespan/ class=md-nav__link> Lifespan </a> </li> <li class=md-nav__item> <a href=../../basics/testing/ class=md-nav__link> Testing </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Techniques <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Techniques data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Techniques </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../techniques/configurations/ class=md-nav__link> Configuration </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <div class="md-nav__link md-nav__link--index "> <a href=../../techniques/validations/ >Input Validations</a> <label for=__nav_4_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Input Validations" data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Input Validations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../techniques/validations/path-params/ class=md-nav__link> Path </a> </li> <li class=md-nav__item> <a href=../../techniques/validations/query-params/ class=md-nav__link> Query </a> </li> <li class=md-nav__item> <a href=../../techniques/validations/header-params/ class=md-nav__link> Header </a> </li> <li class=md-nav__item> <a href=../../techniques/validations/cookie-params/ class=md-nav__link> Cookie </a> </li> <li class=md-nav__item> <a href=../../techniques/validations/body/ class=md-nav__link> Body </a> </li> <li class=md-nav__item> <a href=../../techniques/validations/form-params/ class=md-nav__link> Form </a> </li> <li class=md-nav__item> <a href=../../techniques/validations/file-params/ class=md-nav__link> File </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../techniques/serializers/ class=md-nav__link> Serializers </a> </li> <li class=md-nav__item> <a href=../../techniques/response-model/ class=md-nav__link> Response Model </a> </li> <li class=md-nav__item> <a href=../../techniques/versioning/ class=md-nav__link> Versioning </a> </li> <li class=md-nav__item> <a href=../../techniques/caching/ class=md-nav__link> Caching </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_7 type=checkbox id=__nav_4_7> <label class=md-nav__link for=__nav_4_7> Templating <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Templating data-md-level=2> <label class=md-nav__title for=__nav_4_7> <span class="md-nav__icon md-icon"></span> Templating </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../techniques/templating/ class=md-nav__link> Html </a> </li> <li class=md-nav__item> <a href=../../techniques/staticfiles/ class=md-nav__link> Static Files </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../techniques/mount/ class=md-nav__link> Mount </a> </li> <li class=md-nav__item> <a href=../../techniques/background-task/ class=md-nav__link> Background Tasks </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Security <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Security data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../security/authentication/ class=md-nav__link> Authentication </a> </li> <li class=md-nav__item> <a href=../../security/authorization/ class=md-nav__link> Authorization </a> </li> <li class=md-nav__item> <a href=../../security/encryption_and_hashing/ class=md-nav__link> Encryption and Hashing </a> </li> <li class=md-nav__item> <a href=../../security/csrf/ class=md-nav__link> CSRF and CORS </a> </li> <li class=md-nav__item> <a href=../../security/sessions/ class=md-nav__link> Sessions </a> </li> <li class=md-nav__item> <a href=../../security/throttling/ class=md-nav__link> Rate Limiting </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> CLI <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=CLI data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> CLI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cli/introduction/ class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_2 type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2> Commands <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Commands data-md-level=2> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Commands </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cli/new-command/ class=md-nav__link> new </a> </li> <li class=md-nav__item> <a href=../../cli/create-project-command/ class=md-nav__link> create project </a> </li> <li class=md-nav__item> <a href=../../cli/create-module-command/ class=md-nav__link> create module </a> </li> <li class=md-nav__item> <a href=../../cli/runserver-command/ class=md-nav__link> runserver </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../cli/custom-commands/ class=md-nav__link> Custom Commands </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7> WebSockets <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=WebSockets data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> WebSockets </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../websockets/websockets/ class=md-nav__link> websockets </a> </li> <li class=md-nav__item> <a href=../../websockets/socketio/ class=md-nav__link> socketio </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#http-method-decorator class=md-nav__link> HTTP Method Decorator </a> </li> <li class=md-nav__item> <a href=#route-function-parameters class=md-nav__link> Route Function Parameters </a> </li> <li class=md-nav__item> <a href=#non-route-function-parameters class=md-nav__link> Non Route Function Parameters </a> <nav class=md-nav aria-label="Non Route Function Parameters"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#injecttype class=md-nav__link> Inject[Type] </a> </li> <li class=md-nav__item> <a href=#injecting-executioncontext class=md-nav__link> Injecting ExecutionContext </a> </li> <li class=md-nav__item> <a href=#injecting-request-object class=md-nav__link> Injecting Request Object </a> </li> <li class=md-nav__item> <a href=#injecting-response-object class=md-nav__link> Injecting Response Object </a> </li> <li class=md-nav__item> <a href=#injecting-websocket-object class=md-nav__link> Injecting Websocket Object </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#custom-parameter-decorators class=md-nav__link> Custom Parameter Decorators </a> </li> <li class=md-nav__item> <a href=#route-function-decorators class=md-nav__link> Route Function Decorators </a> <nav class=md-nav aria-label="Route Function Decorators"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#render class=md-nav__link> RENDER </a> </li> <li class=md-nav__item> <a href=#file class=md-nav__link> FILE </a> <nav class=md-nav aria-label=FILE> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fileresponsemodel-as-filestreamingfalse class=md-nav__link> FileResponseModel as file(streaming=False) </a> </li> <li class=md-nav__item> <a href=#streamingresponsemodel-as-filestreamingtrue class=md-nav__link> StreamingResponseModel as file(streaming=True) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openapi-info class=md-nav__link> OPENAPI-INFO </a> </li> <li class=md-nav__item> <a href=#serializer-filter class=md-nav__link> SERIALIZER FILTER </a> </li> <li class=md-nav__item> <a href=#version class=md-nav__link> VERSION </a> </li> <li class=md-nav__item> <a href=#useguards class=md-nav__link> UseGuards </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#command-decorators class=md-nav__link> Command Decorators </a> </li> <li class=md-nav__item> <a href=#module-function-decorators class=md-nav__link> Module Function Decorators </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/python-ellar/ellar/blob/master/docs/overview/custom_decorators.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=custom-decorators><strong>Custom Decorators</strong><a class=headerlink href=#custom-decorators title="Permanent link">&para;</a></h1> <p>Ellar provides a variety of function decorators in the <code>ellar.common</code> python module that can be used to modify the behavior of route functions. </p> <p>These decorators can be used to change the response type of a route function, add filters to the response schema, define the OPENAPI context, and more. In general, these decorators can help to simplify and streamline the process of creating routes.</p> <h2 id=http-method-decorator><strong>HTTP Method Decorator</strong><a class=headerlink href=#http-method-decorator title="Permanent link">&para;</a></h2> <p><code>@get</code>, <code>@post</code>, <code>@put</code>, <code>@patch</code>, <code>@delete</code>, <code>@trace</code>, <code>@options</code>, <code>@head</code> are decorators that define the standard HTTP methods for a route function. They indicate the type of HTTP request that the route function can handle, such as a <code>GET</code> request or a <code>POST</code> request. </p> <p><code>@http_route</code> is a decorator that can be used to define a route that can handle <strong>multiple</strong> HTTP methods at once. </p> <p><code>@ws_route</code> is a decorator that is used to define a route that can handle <strong>WebSocket</strong> connections. </p> <p>These decorators help to specify which type of request a route function can handle.</p> <h2 id=route-function-parameters><strong>Route Function Parameters</strong><a class=headerlink href=#route-function-parameters title="Permanent link">&para;</a></h2> <p>These are Pydantic Models that defines and validates user input dependencies as a route function parameters. They are used to ensure that the specified parameters are present in the request and are of the correct type. </p> <p>If any of the specified parameters are missing or are of an invalid type, the decorators will raise a <code>422</code> error code and also provide a clear error message if the input validation fails. This helps to ensure that your application is receiving valid input and can process the request correctly.</p> <ul> <li><code>Body[T, Body.P(..., embed=False)]</code>: marks a parameter as a field to be available in a request body of <code>application/json</code> content-type.</li> <li><code>Form[T, Form.P(..., embed=True)]</code>: marks a parameter as a field to be available in a request body of <code>x-www-form-urlencoded or multipart/form-data</code> content-type.</li> <li><code>Query[T, Query.P(...)]</code>: marks a parameter as a field to be available in request query object</li> <li><code>File[T, File.P(...)]</code>: marks a parameter as a field to be available in a request body of <code>multipart/form-data</code> content-type.</li> <li><code>Path[T, Path.P(...)]</code>: marks a parameter as a request path variable.</li> <li><code>Header[T, Header.P(...)]</code>: marks a parameter as a request header variable.</li> <li><code>Cookie[T, Cookie.P(...)]</code>: marks a parameter as a request cookie variable.</li> <li><code>WsBody[T, WsBody.P(...)]</code>: defines the message format that should be transmitted from the client in a <code>WebSocket</code> when there is a successful connection. See websocket advance <a href=../../websockets/websockets/#advance-websocket-usage>doc</a></li> </ul> <p>Please refer to the "How-to-Guide" on parsing inputs <a href=../../techniques/validations/ target=_blank>here</a> to see how this input decorators work. </p> <h2 id=non-route-function-parameters><strong>Non Route Function Parameters</strong><a class=headerlink href=#non-route-function-parameters title="Permanent link">&para;</a></h2> <p>We discussed decorators that are used to define route function parameter dependencies in Ellar. These decorators, such as <code>Query</code>, <code>Form</code>, and <code>Body</code>, etc. are pydantic models used to specify the expected parameters for a route function. </p> <p>However, there are also some route parameters that are <strong>system</strong> dependent, such as the <code>request</code> or <code>websocket</code> object, and the <code>response</code> object. These parameters are resolved by the application and supplied to the route function when needed, and are not specified with pydantic models or user input.</p> <h3 id=injecttype><strong>Inject[Type]</strong><a class=headerlink href=#injecttype title="Permanent link">&para;</a></h3> <p>The <strong>Inject[Type]</strong> annotation is used to inject a service registered in Ellar DI container and also inject system services into a route function parameter.</p> <p>For example: <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>ellar.common</span> <span class=kn>import</span> <span class=n>ModuleRouter</span><span class=p>,</span> <span class=n>Inject</span>
<span class=kn>from</span> <span class=nn>ellar.core</span> <span class=kn>import</span> <span class=n>App</span><span class=p>,</span> <span class=n>Config</span>
<span class=kn>from</span> <span class=nn>sqlalchemy.ext.asyncio</span> <span class=kn>import</span> <span class=n>AsyncSession</span>


<span class=n>router</span> <span class=o>=</span> <span class=n>ModuleRouter</span><span class=p>(</span><span class=s1>&#39;/test-provide&#39;</span><span class=p>)</span>

<span class=nd>@router</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;/app&#39;</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>example_endpoint</span><span class=p>(</span><span class=n>app</span><span class=p>:</span> <span class=n>Inject</span><span class=p>[</span><span class=n>App</span><span class=p>],</span> <span class=n>config</span><span class=p>:</span> <span class=n>Inject</span><span class=p>[</span><span class=n>Config</span><span class=p>],</span> <span class=n>async_session</span><span class=p>:</span> <span class=n>Inject</span><span class=p>[</span><span class=n>AsyncSession</span><span class=p>]):</span>
    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>app</span><span class=p>,</span> <span class=n>App</span><span class=p>)</span>
    <span class=k>assert</span> <span class=n>app</span><span class=o>.</span><span class=n>config</span> <span class=o>==</span> <span class=n>config</span>
    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>Config</span><span class=p>)</span>
    <span class=k>return</span> <span class=p>{</span><span class=s1>&#39;message&#39;</span><span class=p>:</span> <span class=s1>&#39;injected App and Configuration object to route function&#39;</span><span class=p>}</span>
</code></pre></div> In the example above, <code>example_endpoint</code> function has two parameters <code>app</code> and <code>config</code> which are annotated with <code>Inject[Type]</code>. This annotation tells the application to resolve the <code>App</code> and <code>Config</code> service providers and inject them as the <code>app</code> and <code>config</code> parameters when the endpoint is called.</p> <p>This allows for easy access to the objects without having to manually import and instantiate them. It also makes the code more modular and easier to test.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>Only types registered in the application can be resolved, but you can set <code>INJECTOR_AUTO_BIND = True</code> in configuration for the injector to register automatically that are not found. please note that this automatic registration will be scoped to <code>singleton</code> by the <code>EllarInjector</code>.</p> </div> <h3 id=injecting-executioncontext><strong>Injecting ExecutionContext</strong><a class=headerlink href=#injecting-executioncontext title="Permanent link">&para;</a></h3> <p>We inject <code>ExecutionContext</code> by simply annotating a parameter with Inject and IExecutionContext interface or ExecutionContext class. See <a href=../../basics/execution-context/ target=_blank>ExecutionContext</a> for more understanding of <code>ExecutionContext</code></p> <p>For example: <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>ellar.common</span> <span class=kn>import</span> <span class=n>ModuleRouter</span><span class=p>,</span> <span class=n>IExecutionContext</span><span class=p>,</span> <span class=n>Inject</span>

<span class=n>router</span> <span class=o>=</span> <span class=n>ModuleRouter</span><span class=p>(</span><span class=s1>&#39;/test-context&#39;</span><span class=p>)</span>

<span class=nd>@router</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>example_endpoint</span><span class=p>(</span><span class=n>ctx</span><span class=p>:</span> <span class=n>Inject</span><span class=p>[</span><span class=n>IExecutionContext</span><span class=p>]):</span>
    <span class=n>http_connection_instance</span> <span class=o>=</span> <span class=n>ctx</span><span class=o>.</span><span class=n>switch_to_http_connection</span><span class=p>()</span><span class=o>.</span><span class=n>get_client</span><span class=p>()</span>
    <span class=n>query_params</span> <span class=o>=</span> <span class=n>http_connection_instance</span><span class=o>.</span><span class=n>query_params</span>
    <span class=k>return</span> <span class=p>{</span><span class=s1>&#39;message&#39;</span><span class=p>:</span> <span class=s1>&#39;inject execution context&#39;</span><span class=p>,</span> <span class=s1>&#39;query_params&#39;</span><span class=p>:</span> <span class=n>query_params</span><span class=p>}</span>
</code></pre></div></p> <h3 id=injecting-request-object><strong>Injecting Request Object</strong><a class=headerlink href=#injecting-request-object title="Permanent link">&para;</a></h3> <p>We inject <code>Request</code> by simply annotating a parameter with Inject and Request class.</p> <p>For example: <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>ellar.common</span> <span class=kn>import</span> <span class=n>ModuleRouter</span><span class=p>,</span> <span class=n>Inject</span>
<span class=kn>from</span> <span class=nn>ellar.core</span> <span class=kn>import</span> <span class=n>Request</span>

<span class=n>router</span> <span class=o>=</span> <span class=n>ModuleRouter</span><span class=p>(</span><span class=s1>&#39;/test-req&#39;</span><span class=p>)</span>

<span class=nd>@router</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>example_endpoint</span><span class=p>(</span><span class=n>req</span><span class=p>:</span> <span class=n>Inject</span><span class=p>[</span><span class=n>Request</span><span class=p>]):</span>
    <span class=n>headers</span> <span class=o>=</span> <span class=n>req</span><span class=o>.</span><span class=n>headers</span>
    <span class=n>query_params</span> <span class=o>=</span> <span class=n>req</span><span class=o>.</span><span class=n>query_params</span>
    <span class=k>return</span> <span class=p>{</span><span class=s1>&#39;message&#39;</span><span class=p>:</span> <span class=s1>&#39;injected request object&#39;</span><span class=p>,</span> <span class=s1>&#39;headers&#39;</span><span class=p>:</span> <span class=n>headers</span><span class=p>,</span> <span class=s1>&#39;query_params&#39;</span><span class=p>:</span> <span class=n>query_params</span><span class=p>}</span>
</code></pre></div></p> <p>In this example, the <code>example_endpoint</code> function has a parameter annotated with <code>Inject[Request]</code>, which will be automatically populated with the current <code>Request</code> object at runtime. The <code>headers</code> and <code>query_params</code> attributes of the <code>req</code> object can then be accessed and used within the function.</p> <h3 id=injecting-response-object><strong>Injecting Response Object</strong><a class=headerlink href=#injecting-response-object title="Permanent link">&para;</a></h3> <p>We inject <code>Response</code> by simply annotating a parameter with Inject and Response class.</p> <p>For example: <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>ellar.common</span> <span class=kn>import</span> <span class=n>ModuleRouter</span><span class=p>,</span> <span class=n>Inject</span><span class=p>,</span> <span class=n>Response</span>

<span class=n>router</span> <span class=o>=</span> <span class=n>ModuleRouter</span><span class=p>(</span><span class=s1>&#39;/test-response&#39;</span><span class=p>)</span>

<span class=nd>@router</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>example_endpoint</span><span class=p>(</span><span class=n>res</span><span class=p>:</span> <span class=n>Inject</span><span class=p>[</span><span class=n>Response</span><span class=p>]):</span>
    <span class=n>res</span><span class=o>.</span><span class=n>headers</span><span class=p>[</span><span class=s1>&#39;x-custom-header&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;hello&#39;</span>
    <span class=k>return</span> <span class=p>{</span><span class=s1>&#39;message&#39;</span><span class=p>:</span> <span class=s1>&#39;inject response object&#39;</span><span class=p>}</span>
</code></pre></div></p> <p>In this example, the <code>Inject[Response]</code> annotation injects the current <code>Response</code> object to the <code>res</code> parameter of the <code>example_endpoint</code> function. This will allow you to manipulate the headers of the response before it is sent back to the client.</p> <h3 id=injecting-websocket-object><strong>Injecting Websocket Object</strong><a class=headerlink href=#injecting-websocket-object title="Permanent link">&para;</a></h3> <p>We inject <code>Websocket</code> by simply annotating a parameter with Inject and Websocket class.</p> <p>For example: <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>ellar.common</span> <span class=kn>import</span> <span class=n>ModuleRouter</span><span class=p>,</span> <span class=n>Inject</span>
<span class=kn>from</span> <span class=nn>ellar.core</span> <span class=kn>import</span> <span class=n>WebSocket</span>

<span class=n>router</span> <span class=o>=</span> <span class=n>ModuleRouter</span><span class=p>(</span><span class=s1>&#39;/test-ws&#39;</span><span class=p>)</span>

<span class=nd>@router</span><span class=o>.</span><span class=n>ws_route</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>)</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>example_endpoint</span><span class=p>(</span><span class=n>ws</span><span class=p>:</span> <span class=n>Inject</span><span class=p>[</span><span class=n>WebSocket</span><span class=p>]):</span>
    <span class=k>await</span> <span class=n>ws</span><span class=o>.</span><span class=n>accept</span><span class=p>()</span>
    <span class=k>await</span> <span class=n>ws</span><span class=o>.</span><span class=n>send_json</span><span class=p>({</span><span class=s1>&#39;message&#39;</span><span class=p>:</span> <span class=s1>&#39;injected WebSocket object to route function&#39;</span><span class=p>})</span>
</code></pre></div> The above code creates a WebSocket route '/test-ws' and when a client connects to this route, the <code>example_endpoint</code> function is executed. The <code>Ws</code> decorator injects the current <code>WebSocket</code> object to the <code>ws</code> parameter of the function, which can then be used to interact with the WebSocket connection, such as accepting the connection and sending data to the client.</p> <p>The same conditions and examples applies for:</p> <ul> <li><strong>Host</strong> <code>Inject[str, Inject.Key("Host")]</code> injects current client host address to route function parameter. see example below</li> <li><strong>Session</strong> <code>Inject[dict, Inject.Key("Session")]</code> injects current Session object to route function parameter. This requires <a href=https://www.starlette.io/middleware/#sessionmiddleware target=_blank>SessionMiddleware</a> module from Starlette added in application middleware and also <code>SessionMiddleware</code> module depends on <a href=https://pypi.org/project/itsdangerous/ target=_blank>itsdangerous</a> package.</li> <li><strong>Http</strong> <code>Inject[dict, Inject.Key("Session")]</code> injects current HTTP connection object to route function parameter. see example below</li> </ul> <p>For example: <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>ellar.common</span> <span class=kn>import</span> <span class=n>Inject</span><span class=p>,</span> <span class=n>ModuleRouter</span>
<span class=kn>from</span> <span class=nn>starlette.requests</span> <span class=kn>import</span> <span class=n>HTTPConnection</span>

<span class=n>router</span> <span class=o>=</span> <span class=n>ModuleRouter</span><span class=p>()</span>

<span class=nd>@router</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;/others&quot;</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>get_requests_case_2</span><span class=p>(</span>
    <span class=n>session</span><span class=p>:</span> <span class=n>Inject</span><span class=p>[</span><span class=nb>dict</span><span class=p>,</span> <span class=n>Inject</span><span class=o>.</span><span class=n>Key</span><span class=p>(</span><span class=s2>&quot;Session&quot;</span><span class=p>)],</span> <span class=c1># injects requests session</span>
    <span class=n>host</span><span class=p>:</span> <span class=n>Inject</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Inject</span><span class=o>.</span><span class=n>Key</span><span class=p>(</span><span class=s2>&quot;Host&quot;</span><span class=p>)],</span> <span class=c1># injects requests host</span>
    <span class=n>connection</span><span class=p>:</span> <span class=n>Inject</span><span class=p>[</span><span class=n>HTTPConnection</span><span class=p>],</span> <span class=c1># injects connection</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>connection</span><span class=p>,</span> <span class=n>HTTPConnection</span><span class=p>)</span>  <span class=c1># True</span>
    <span class=k>assert</span> <span class=n>host</span> <span class=o>==</span> <span class=s2>&quot;testclient&quot;</span>
    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>session</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span> <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=n>session</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span>
    <span class=k>return</span> <span class=kc>True</span>
</code></pre></div></p> <h2 id=custom-parameter-decorators><strong>Custom Parameter Decorators</strong><a class=headerlink href=#custom-parameter-decorators title="Permanent link">&para;</a></h2> <p>You can create your own route parameter decorators whenever necessary. You simply need to follow a contract, <code>NonParameterResolver</code>, and override the resolve function.</p> <p>The <code>NonParameterResolver</code> has two attribute, <code>type_annotation</code> and <code>parameter_name</code>, that are provided automatically when computing route function parameter dependencies. The <code>type_annotation</code> and <code>parameter_name</code> are determined from the parameter declaration like so - <code>def route_function(parameter_name:type_annotation = NonParameterResolver())</code>.</p> <p>All <code>NonParameterResolver</code> receives current <code>IExecutionContext</code> during route function execution, and it must return a tuple of dict object of the resulting resolve data with <code>parameter_name</code> and list of errors if any. As shown in the return statements in the example below.</p> <p>For example: <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>typing</span> <span class=k>as</span> <span class=nn>t</span>
<span class=kn>from</span> <span class=nn>ellar.common.params</span> <span class=kn>import</span> <span class=n>SystemParameterResolver</span>
<span class=kn>from</span> <span class=nn>ellar.common</span> <span class=kn>import</span> <span class=n>IExecutionContext</span>
<span class=kn>from</span> <span class=nn>pydantic.error_wrappers</span> <span class=kn>import</span> <span class=n>ErrorWrapper</span>


<span class=k>class</span> <span class=nc>UserParam</span><span class=p>(</span><span class=n>SystemParameterResolver</span><span class=p>):</span>
    <span class=k>async</span> <span class=k>def</span> <span class=nf>resolve</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ctx</span><span class=p>:</span> <span class=n>IExecutionContext</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>t</span><span class=o>.</span><span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>t</span><span class=o>.</span><span class=n>Any</span><span class=p>:</span>
        <span class=n>request</span> <span class=o>=</span> <span class=n>ctx</span><span class=o>.</span><span class=n>switch_to_http_connection</span><span class=p>()</span><span class=o>.</span><span class=n>get_request</span><span class=p>()</span>
        <span class=n>user</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>user</span><span class=p>:</span>
            <span class=k>return</span> <span class=p>{</span><span class=bp>self</span><span class=o>.</span><span class=n>parameter_name</span><span class=p>:</span> <span class=n>user</span><span class=p>},</span> <span class=p>[]</span>
        <span class=k>return</span> <span class=p>{},</span> <span class=p>[</span><span class=n>ErrorWrapper</span><span class=p>(</span><span class=s1>&#39;Authenticated Users Only&#39;</span><span class=p>,</span> <span class=n>loc</span><span class=o>=</span><span class=s1>&#39;system&#39;</span><span class=p>)]</span>
</code></pre></div></p> <p>This example defines a custom decorator called <code>UserParam</code> that inherits from <code>NonParameterResolver</code>. The <code>resolve</code> method is overridden to extract the user from the current <code>IExecutionContext</code>'s request. </p> <p>If the user is found, it is returned as a dict with the key as the <code>parameter_name</code> of the decorator, along with an empty list of errors. If no user is found, an empty dict and a list of errors containing an ErrorWrapper object is returned. </p> <p>This <code>UserParam</code> decorator can then be used to inject the user object to a route function parameter like so: <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>typing_extensions</span> <span class=kn>import</span> <span class=n>Annotated</span>
<span class=kn>from</span> <span class=nn>.custom_decorator</span> <span class=kn>import</span> <span class=n>UserParam</span>
<span class=kn>from</span> <span class=nn>.schema</span> <span class=kn>import</span> <span class=n>UserType</span>

<span class=nd>@router</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;/user&#39;</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>example_endpoint</span><span class=p>(</span><span class=n>user</span> <span class=o>=</span> <span class=n>UserParam</span><span class=p>(),</span> <span class=n>user2</span><span class=p>:</span> <span class=n>Annotated</span><span class=p>[</span><span class=n>UserType</span><span class=p>,</span> <span class=n>UserParam</span><span class=p>()]):</span>
    <span class=k>assert</span> <span class=n>user2</span> <span class=o>==</span> <span class=n>user</span> <span class=c1># True</span>
    <span class=k>return</span> <span class=p>{</span><span class=s1>&#39;message&#39;</span><span class=p>:</span> <span class=s1>&#39;injected user object to route function&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>:</span> <span class=n>user</span><span class=p>}</span>
</code></pre></div></p> <h2 id=route-function-decorators><strong>Route Function Decorators</strong><a class=headerlink href=#route-function-decorators title="Permanent link">&para;</a></h2> <p>These decorators are used to modify the output data of a route function, add filtering to the output schema, or add extra OPENAPI information about the route function.</p> <p>They include:</p> <h3 id=render><strong>RENDER</strong><a class=headerlink href=#render title="Permanent link">&para;</a></h3> <p><strong>@render()</strong> decorator converts a route function response to HTML template response. </p> <p>for example: <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>ellar.common</span> <span class=kn>import</span> <span class=n>get</span><span class=p>,</span> <span class=n>render</span>
<span class=o>...</span>
<span class=nd>@get</span><span class=p>(</span><span class=s1>&#39;/index-template&#39;</span><span class=p>)</span>
<span class=nd>@render</span><span class=p>(</span><span class=n>template_name</span><span class=o>=</span><span class=s1>&#39;my_template&#39;</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>index</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=k>return</span> <span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;Ellar Template&#39;</span><span class=p>}</span>
</code></pre></div></p> <p>In the example, the index function is decorated with the <code>render</code> decorator, which will return a 200 status code and HTML content from my_template. </p> <p>The return object from the index function will be used as the templating context for <code>my_template</code> during the template rendering process. This allows the function to pass data to the template and have it rendered with the provided context, the rendered template will be the response body.</p> <p>See <a href=../../techniques/templating/ target=_blank>HTML Templating</a> for more information on <code>render</code> and HTML templating with Ellar.</p> <h3 id=file><strong>FILE</strong><a class=headerlink href=#file title="Permanent link">&para;</a></h3> <p><strong>@file()</strong> decorator converts a route function response to file or streaming response type. Based on the value of <code>streaming</code> parameter, file decorator creates <code>FileResponseModel</code> or <code>StreamingResponseModel</code>.</p> <h4 id=fileresponsemodel-as-filestreamingfalse>FileResponseModel as file(streaming=False)<a class=headerlink href=#fileresponsemodel-as-filestreamingfalse title="Permanent link">&para;</a></h4> <p>When <code>streaming</code> parameter in <code>@file(streaming=False)</code> decorator is set to <code>False</code>, a <code>FileResponseModel</code> is created as the response model for the decorated route function. And the route function is required to return a dictionary object that follows a <code>FileResponseModelSchema</code> format:</p> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>typing</span> <span class=k>as</span> <span class=nn>t</span>
<span class=kn>from</span> <span class=nn>enum</span> <span class=kn>import</span> <span class=n>Enum</span>
<span class=kn>from</span> <span class=nn>ellar.common</span> <span class=kn>import</span> <span class=n>Serializer</span>


<span class=k>class</span> <span class=nc>ContentDispositionType</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>Enum</span><span class=p>):</span>
    <span class=n>inline</span> <span class=o>=</span> <span class=s2>&quot;inline&quot;</span>
    <span class=n>attachment</span> <span class=o>=</span> <span class=s2>&quot;attachment&quot;</span>


<span class=k>class</span> <span class=nc>FileResponseModelSchema</span><span class=p>(</span><span class=n>Serializer</span><span class=p>):</span>
    <span class=n>path</span><span class=p>:</span> <span class=nb>str</span>
    <span class=n>media_type</span><span class=p>:</span> <span class=n>t</span><span class=o>.</span><span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=n>filename</span><span class=p>:</span> <span class=n>t</span><span class=o>.</span><span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=n>method</span><span class=p>:</span> <span class=n>t</span><span class=o>.</span><span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=n>content_disposition_type</span><span class=p>:</span> <span class=n>ContentDispositionType</span> <span class=o>=</span> <span class=n>ContentDispositionType</span><span class=o>.</span><span class=n>attachment</span>
</code></pre></div> <ul> <li><code>path</code>: This is a required key whose value defines the path to the file to attach to the response.</li> <li><code>filename</code>: when specified, it will be used as the attached file's filename. The default value is computed from the file referenced.</li> <li><code>content_disposition_type</code>: defines the content disposition type, can be either inline or attachment. The default is attachment.</li> <li><code>media_type</code>: states the <code>MIME</code> type of the file to be attached. The default value is computed from the file referenced.</li> <li><code>method</code>: HTTP method, defaults: <code>HEAD</code></li> </ul> <p>for example: <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>ellar.common</span> <span class=kn>import</span> <span class=n>get</span><span class=p>,</span> <span class=n>file</span>
<span class=o>...</span>
<span class=nd>@get</span><span class=p>()</span>
<span class=nd>@file</span><span class=p>(</span><span class=n>media_type</span><span class=o>=</span><span class=s1>&#39;text/html&#39;</span><span class=p>,</span> <span class=n>streaming</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>file_download</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=k>return</span> <span class=p>{</span><span class=s1>&#39;path&#39;</span><span class=p>:</span> <span class=s1>&#39;path/to/file.html&#39;</span><span class=p>,</span> <span class=s1>&#39;filename&#39;</span><span class=p>:</span> <span class=s1>&#39;code.html&#39;</span><span class=p>,</span> <span class=s1>&#39;content_disposition_type&#39;</span><span class=p>:</span> <span class=s1>&#39;attachment&#39;</span><span class=p>}</span>
</code></pre></div> In the example, an additional parameter media_type is added to the @file(streaming=False) decorator to define the content-type of the file returned. This is helpful for creating the route function's OPENAPI documentation, as it allows the content-type to be defined upfront. Without this parameter, the content-type will be computed during runtime when returning a response for a request. It is a way to explicitly define the content-type of the file which will be returned.</p> <h4 id=streamingresponsemodel-as-filestreamingtrue><strong>StreamingResponseModel as file(streaming=True)</strong><a class=headerlink href=#streamingresponsemodel-as-filestreamingtrue title="Permanent link">&para;</a></h4> <p>On the other hand, when <code>streaming</code> parameter in <code>@file(streaming=True)</code> decorator is set to <code>True</code>, a <code>StreamingResponseModel</code> is created as the response model for the decorated route function. And the route function is required to return an <code>ContentStream</code>. <code>ContentStream</code> is an synchronous or asynchronous iterator of string or bytes. Type definition is shown below.</p> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>typing</span>
<span class=kn>import</span> <span class=nn>asyncio</span>
<span class=kn>from</span> <span class=nn>ellar.common</span> <span class=kn>import</span> <span class=n>get</span><span class=p>,</span> <span class=n>file</span>

<span class=n>Content</span> <span class=o>=</span> <span class=n>typing</span><span class=o>.</span><span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>bytes</span><span class=p>]</span>
<span class=n>SyncContentStream</span> <span class=o>=</span> <span class=n>typing</span><span class=o>.</span><span class=n>Iterator</span><span class=p>[</span><span class=n>Content</span><span class=p>]</span>
<span class=n>AsyncContentStream</span> <span class=o>=</span> <span class=n>typing</span><span class=o>.</span><span class=n>AsyncIterable</span><span class=p>[</span><span class=n>Content</span><span class=p>]</span>
<span class=n>ContentStream</span> <span class=o>=</span> <span class=n>typing</span><span class=o>.</span><span class=n>Union</span><span class=p>[</span><span class=n>AsyncContentStream</span><span class=p>,</span> <span class=n>SyncContentStream</span><span class=p>]</span>

<span class=k>async</span> <span class=k>def</span> <span class=nf>slow_numbers</span><span class=p>(</span><span class=n>minimum</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>maximum</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
    <span class=k>yield</span> <span class=p>(</span><span class=s2>&quot;&lt;html&gt;&lt;body&gt;&lt;ul&gt;&quot;</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>number</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>minimum</span><span class=p>,</span> <span class=n>maximum</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
        <span class=k>yield</span> <span class=s2>&quot;&lt;li&gt;</span><span class=si>%d</span><span class=s2>&lt;/li&gt;&quot;</span> <span class=o>%</span> <span class=n>number</span>
        <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.01</span><span class=p>)</span>
    <span class=k>yield</span> <span class=p>(</span><span class=s2>&quot;&lt;/ul&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span><span class=p>)</span>

<span class=o>...</span>
<span class=nd>@get</span><span class=p>(</span><span class=s1>&#39;/stream&#39;</span><span class=p>)</span>
<span class=nd>@file</span><span class=p>(</span><span class=n>media_type</span><span class=o>=</span><span class=s1>&#39;text/html&#39;</span><span class=p>,</span> <span class=n>streaming</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>file_stream</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=c1># file_stream function must return ContentStream</span>
    <span class=k>return</span> <span class=n>slow_numbers</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
</code></pre></div> <h3 id=openapi-info><strong>OPENAPI-INFO</strong><a class=headerlink href=#openapi-info title="Permanent link">&para;</a></h3> <p><strong>@openapi_info()</strong> decorator adds extra route function OPENAPI properties to route function OPENAPI documentation. They include:</p> <p>Parameters:</p> <ul> <li><code>tags</code>: adds more OPENAPI tags to route function OPENAPI docs.</li> <li><code>deprecated</code>: marks route function as deprecated. Default is false</li> <li><code>descriptions</code>: adds description to route function OPENAPI docs</li> <li><code>operation_id</code>: modifies operationid for the route function OPENAPI docs</li> <li><code>summary</code>: adds summary to route function OPENAPI docs</li> </ul> <p>For example: <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>ellar.common</span> <span class=kn>import</span> <span class=n>get</span><span class=p>,</span> <span class=n>openapi_info</span>

<span class=o>...</span>
<span class=nd>@get</span><span class=p>(</span><span class=s2>&quot;/open-api-info&quot;</span><span class=p>)</span>
<span class=nd>@openapi_info</span><span class=p>(</span>
    <span class=n>tags</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;query&#39;</span><span class=p>],</span> 
    <span class=n>deprecated</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> 
    <span class=n>description</span><span class=o>=</span><span class=s1>&#39;open api info testing&#39;</span><span class=p>,</span> 
    <span class=n>operation_id</span><span class=o>=</span><span class=s1>&#39;some-operation-id&#39;</span><span class=p>,</span> 
    <span class=n>summary</span><span class=o>=</span><span class=s1>&#39;some summary&#39;</span>
<span class=p>)</span>
<span class=k>def</span> <span class=nf>openapi_info_function</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>query</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;foo bar </span><span class=si>{</span><span class=n>query</span><span class=si>}</span><span class=s2>&quot;</span>
</code></pre></div></p> <h3 id=serializer-filter><strong>SERIALIZER FILTER</strong><a class=headerlink href=#serializer-filter title="Permanent link">&para;</a></h3> <p><strong>@serializer_filter()</strong> decorator provides Pydantic filtering options to decorated route function output schema.</p> <p>Parameters:</p> <ul> <li><code>include</code>: fields to include in the returned dictionary</li> <li><code>exclude</code>: fields to exclude from the returned dictionary</li> <li><code>by_alias</code>: whether field aliases should be used as keys in the returned dictionary; default <code>False</code></li> <li><code>exclude_unset</code>: whether fields which were not explicitly set when creating the model should be excluded from the returned dictionary; default <code>False</code>.</li> <li><code>exclude_defaults</code>: whether fields which are equal to their default values (whether set or otherwise) should be excluded from the returned dictionary; default <code>False</code></li> <li><code>exclude_none</code>: whether fields which are equal to None should be excluded from the returned dictionary; default <code>False</code></li> </ul> <p>For example: <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>typing</span> <span class=k>as</span> <span class=nn>t</span>
<span class=kn>from</span> <span class=nn>ellar.common</span> <span class=kn>import</span> <span class=n>serializer_filter</span><span class=p>,</span> <span class=n>get</span><span class=p>,</span> <span class=n>Serializer</span>

<span class=k>class</span> <span class=nc>UserSchema</span><span class=p>(</span><span class=n>Serializer</span><span class=p>):</span>
    <span class=n>username</span><span class=p>:</span> <span class=nb>str</span>
    <span class=n>password</span><span class=p>:</span> <span class=nb>str</span>
    <span class=n>first_name</span><span class=p>:</span> <span class=n>t</span><span class=o>.</span><span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>
    <span class=n>last_name</span><span class=p>:</span> <span class=n>t</span><span class=o>.</span><span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>

<span class=o>...</span>
<span class=nd>@get</span><span class=p>(</span><span class=s2>&quot;/serialize-filter-1&quot;</span><span class=p>,</span> <span class=n>response</span><span class=o>=</span><span class=n>UserSchema</span><span class=p>)</span>
<span class=nd>@serializer_filter</span><span class=p>(</span><span class=n>exclude_none</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>exclude</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;password&#39;</span><span class=p>})</span>
<span class=k>def</span> <span class=nf>serialized_output_1</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=k>return</span> <span class=nb>dict</span><span class=p>(</span><span class=n>username</span><span class=o>=</span><span class=s1>&#39;python&#39;</span><span class=p>,</span> <span class=n>password</span><span class=o>=</span><span class=s1>&#39;secret&#39;</span><span class=p>,</span> <span class=n>first_name</span><span class=o>=</span><span class=s1>&#39;ellar&#39;</span><span class=p>)</span>
</code></pre></div> In example, <code>serializer_filter</code> to filter values that are <code>None</code> and also excluded <code>password</code> property from been returned. See <a href=https://docs.pydantic.dev/usage/exporting_models/#modeldict target=_blank>Pydantic Model Export</a> for more examples.</p> <h3 id=version><strong>VERSION</strong><a class=headerlink href=#version title="Permanent link">&para;</a></h3> <p><strong>@version()</strong> is a decorator that provides endpoint versioning for a route function. This decorator allows you to specify the version of the endpoint that the function is associated with. </p> <p>Based on the versioning scheme configuration in the application, versioned route functions are called. This can be useful for maintaining backward compatibility, or for rolling out new features to different versions of an application. More information on how to use this decorator can be found in the <a href=../../techniques/versioning/ target=_blank>Versioning documentation</a></p> <p>A quick example on how to use <code>version</code> decorator: <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>ellar.common</span> <span class=kn>import</span> <span class=n>post</span><span class=p>,</span> <span class=n>Version</span>

<span class=nd>@post</span><span class=p>(</span><span class=s2>&quot;/create&quot;</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s1>&#39;v2_v3_list&#39;</span><span class=p>)</span>
<span class=nd>@Version</span><span class=p>(</span><span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=s1>&#39;3&#39;</span><span class=p>)</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>get_item_v2_v3</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=k>return</span> <span class=p>{</span><span class=s1>&#39;message&#39;</span><span class=p>:</span> <span class=s1>&#39;for v2 and v3 request&#39;</span><span class=p>}</span>
</code></pre></div></p> <p>The <code>version</code> decorator takes a list of values as an argument, for example <code>@version('2', '3')</code>. This indicates that the <code>get_item_v2_v3</code> route function will handle version 2 and version 3 requests of the /create endpoint. This allows for multiple versions of the same endpoint to be handled by different route functions, each with their own logic and implementation.</p> <h3 id=useguards><strong>UseGuards</strong><a class=headerlink href=#useguards title="Permanent link">&para;</a></h3> <p><strong>@UseGuards()</strong> is a decorator that applies a protection class of type <code>GuardCanActivate</code> to a route function. These protection classes have a <code>can_execute</code> function that is called to determine whether a route function should be executed. </p> <p>This decorator allows you to apply certain conditions or checks before a route function is executed, such as <code>authentication</code> or <code>authorization</code> checks. This can help to ensure that only authorized users can access certain resources. </p> <p>More information on how to use this decorator can be found in the <a href=../guards/ target=_blank>Guard Documentation</a></p> <p>A quick example on how to use <code>UseGuards</code> decorator: <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>typing</span> <span class=k>as</span> <span class=nn>t</span>
<span class=kn>from</span> <span class=nn>ellar.common</span> <span class=kn>import</span> <span class=n>get</span><span class=p>,</span> <span class=n>UseGuards</span>
<span class=kn>from</span> <span class=nn>ellar.core</span> <span class=kn>import</span> <span class=n>APIKeyQuery</span><span class=p>,</span> <span class=n>HTTPConnection</span>


<span class=k>class</span> <span class=nc>MyAPIKeyQuery</span><span class=p>(</span><span class=n>APIKeyQuery</span><span class=p>):</span>
    <span class=k>async</span> <span class=k>def</span> <span class=nf>authenticate</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>connection</span><span class=p>:</span> <span class=n>HTTPConnection</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=n>t</span><span class=o>.</span><span class=n>Optional</span><span class=p>[</span><span class=n>t</span><span class=o>.</span><span class=n>Any</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>t</span><span class=o>.</span><span class=n>Optional</span><span class=p>[</span><span class=n>t</span><span class=o>.</span><span class=n>Any</span><span class=p>]:</span>
        <span class=k>if</span> <span class=n>key</span> <span class=o>==</span> <span class=s1>&#39;supersecret&#39;</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>True</span>
        <span class=k>return</span> <span class=kc>False</span>


<span class=nd>@get</span><span class=p>(</span><span class=s2>&quot;/&quot;</span><span class=p>)</span>
<span class=nd>@UseGuards</span><span class=p>(</span><span class=n>MyAPIKeyQuery</span><span class=p>(),</span> <span class=p>)</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>get_guarded_items</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=k>return</span> <span class=p>{</span><span class=s1>&#39;message&#39;</span><span class=p>:</span> <span class=s1>&#39;worked fine with `key`=`supersecret`&#39;</span><span class=p>}</span>
</code></pre></div> The <code>UseGuards</code> decorator, like the <code>version</code> decorator, takes a list of values as an argument. During a request, the provided guards are called in the order in which they are provided. </p> <p>This allows you to apply multiple guards to a single route function and have them executed in a specific order. This is useful for applying multiple levels of security or access control to a single endpoint. </p> <p>Each guard class has a <code>can_execute</code> function that is called in the order specified by the decorator, if any of the guard's <code>can_execute</code> function returns False, the route function will not be executed.</p> <h2 id=command-decorators><strong>Command Decorators</strong><a class=headerlink href=#command-decorators title="Permanent link">&para;</a></h2> <p>The <code>command</code> decorator is used to convert a decorated function into a command that can be executed through the Ellar command-line interface (CLI) actions. This allows you to define custom commands that can be run from the command-line, which can be useful for tasks such as running database migrations, generating code, or other tasks that can be automated.</p> <p>See <a href=../../cli/introduction/ target=_blank>Ellar-CLI Custom Commands</a></p> <h2 id=module-function-decorators><strong>Module Function Decorators</strong><a class=headerlink href=#module-function-decorators title="Permanent link">&para;</a></h2> <ul> <li> <p><code>@exception_handler</code>: This decorator is used to register a function as an exception handler. This function will be called when an unhandled exception occurs during a request. It should take the exception instance as its only argument and return a response object.</p> </li> <li> <p><code>@middleware</code>: This decorator is used to register a function as a middleware. Middlewares are called for each incoming request and can be used to modify the request or response, or perform any other actions before or after the request is handled.</p> </li> <li> <p><code>@template_filter</code>: This decorator is used to register a function as a Jinja2 template filter. The function should take one or more arguments and return a modified value.</p> </li> <li> <p><code>@template_global</code>: This decorator is used to register a function as a global variable available in all Jinja2 templates. The function can be called without any arguments and should return a value.</p> </li> </ul> <p>These decorators can be used to define functions that will be executed at specific points in the application's lifecycle. They provide a way to separate and organize the different parts of an application. See <a href=../modules/#additional-module-configurations target=_blank>Module Additional Configuration</a> for examples on how these decorator functions are used.</p> <hr> <div class=md-source-file> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">October 13, 2023</span> </small> </div> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../guards/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Guards" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Guards </div> </div> </a> <a href=../module-router/ class="md-footer__link md-footer__link--next" aria-label="Next: Module Router" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Module Router </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2021 - 2023 <a href=https://github.com/eadwinCode target=_blank rel=noopener>Eadwin Ezeudoh</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "search.highlight", "search.share", "search.suggest", "toc.follow", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.prune", "navigation.left", "navigation.tracking"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../assets/javascripts/bundle.5a2dcb6a.min.js></script> </body> </html>